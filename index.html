<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Venta de Cervezas - GIOS</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:url("fondo-app.jpg") no-repeat center center;
  background-size:cover;
  min-height:100vh;
}

.app{
  max-width:420px;
  margin:auto;
  background:rgba(255,255,255,0.9);
  min-height:100vh;
  padding-bottom:150px;
}

.app-header{
  position:sticky;
  top:0;
  background:#fff;
  text-align:center;
  padding:10px;
  z-index:10;
}

.logo{max-width:120px;}
.subtitulo{font-size:14px;font-weight:bold;}
.info{font-size:12px;}

.products{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  padding:10px;
}

.card{
  background:#fff;
  border-radius:14px;
  padding:6px;
  text-align:center;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
}

.beer-box{
  border:1px solid #ccc;
  border-radius:10px;
  padding:6px;
}

.beer-img{
  width:68px;
  height:90px;
  object-fit:contain;
}

.qty{
  display:flex;
  justify-content:center;
  gap:10px;
}

.qty button{
  width:24px;
  height:24px;
  font-size:16px;
  font-weight:bold;
}

.qty span{
  min-width:20px;
  font-weight:bold;
}

.beer-info h3{
  font-size:14px;
  margin:4px 0 2px;
}

.beer-info small{font-size:11px;}
.price{font-weight:bold;}

.footer{
  position:fixed;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:420px;
  background:#fff;
  padding:10px;
  box-shadow:0 -4px 10px rgba(0,0,0,.2);
}

.delivery-zone select{
  width:100%;
  padding:6px;
  border-radius:8px;
}

.total{
  text-align:center;
  font-size:18px;
  font-weight:bold;
  margin:6px 0;
}

.actions{
  display:flex;
  gap:6px;
}

.actions button{
  flex:1;
  padding:8px;
  border:none;
  border-radius:6px;
  font-size:11px;
}

.actions button:disabled{opacity:.5;}

/* Animaciones suaves tipo iOS */
.card{
  transition: transform .18s ease, box-shadow .18s ease;
}

.card.bump{
  transform: scale(1.04);
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}

.qty button{
  transition: transform .15s ease;
}

.qty button:active{
  transform: scale(0.85);
}

.total{
  transition: transform .2s ease;
}

.total.bump{
  transform: scale(1.15);
}

.delivery-title{
  background:#007BFF; /* azul el√©ctrico */
  color:#fff;
  font-weight:bold;
  text-align:center;
  padding:8px;
  border-radius:8px;
  margin-bottom:6px;
}

</style>
</head>

<body>

<div class="app">

<header class="app-header">
  <img src="logogios.png" class="logo">
  <div class="subtitulo">üç∫ Venta de Cervezas - Copiap√≥ üç∫</div>
  <div class="info">‚è∞ 09:00‚Äì15:00 / 17:00‚Äì22:00 üöö</div>
</header>

<div class="products">

<div class="card" data-price="1000">
  <div class="beer-box">
    <img src="escudo-silver.png" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Escudo Silver</h3>
    <small>710cc</small>
    <div class="price">$1.000</div>
  </div>
</div>

<div class="card" data-price="900">
  <div class="beer-box">
    <img src="cristal-473.png" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Cristal</h3>
    <small>473cc</small>
    <div class="price">$900</div>
  </div>
</div>

<div class="card" data-price="1000">
  <div class="beer-box">
    <img src="sol-330.png" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Sol</h3>
    <small>330cc</small>
    <div class="price">$1.000</div>
  </div>
</div>

<div class="card" data-price="950">
  <div class="beer-box">
    <img src="escudo-roja470.avif" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Escudo Roja</h3>
    <small>470cc</small>
    <div class="price">$950</div>
  </div>
</div>

</div>
</div>

<div class="footer">
  <div class="delivery-zone">
    <select id="zone" onchange="calc()">
      <div class="delivery-title">üöö Selecciona Zona para Delivery üöö</div>
      <option value="centro">Copiap√≥ Centro</option>
      <option value="paipote">Paipote</option>
      <option value="tierra">Tierra Amarilla</option>
    </select>
    <small id="zoneInfo"></small>
  </div>

  <div class="total">Total: $<span id="total">0</span></div>

  <div class="actions">
    <button id="mp" onclick="pagarMP()" disabled>üí≥ MP</button>
    <button id="tr" onclick="openTransfer()" disabled>üè¶ Transf</button>
    <button id="wa" onclick="sendWA()" disabled>üì≤ WhatsApp</button>
    <button onclick="location.href='tel:+56927731874'">üìû Llamar</button>
  </div>
</div>

<script>
const zonas={
  centro:{costo:1000,minimo:5000},
  paipote:{costo:2000,minimo:8000},
  tierra:{costo:3000,minimo:10000}
};

let total=0;

function add(btn,val){
  const card = btn.closest(".card");
  const span = btn.parentNode.querySelector("span");

  span.innerText = Math.max(0,parseInt(span.innerText)+val);

  card.classList.remove("bump");
  void card.offsetWidth;
  card.classList.add("bump");

  calc();
}

function calc(){
  let subtotal = 0;

  document.querySelectorAll(".card").forEach(c=>{
    const precio = parseInt(c.dataset.price);
    const cantidad = parseInt(c.querySelector("span").innerText);
    subtotal += precio * cantidad;
  });

  // actualizar total
  document.getElementById("total").innerText = subtotal.toLocaleString();

  // animar total
  const t = document.querySelector(".total");
  t.classList.remove("bump");
  void t.offsetWidth;
  t.classList.add("bump");

  // activar / desactivar botones
  const ok = subtotal > 0;
  document.querySelectorAll(".actions button").forEach(b=>{
    if(b.id !== "call") b.disabled = !ok;
  });
}

  let zone=document.getElementById("zone").value;
  let delivery=0;
  let ok=subtotal>0;

  if(zone){
    delivery=zonas[zone].costo;
    if(subtotal<zonas[zone].minimo) ok=false;
    document.getElementById("zoneInfo").innerText=
      `Delivery $${delivery} | M√≠n $${zonas[zone].minimo}`;
  }else{
    ok=false;
    document.getElementById("zoneInfo").innerText="";
  }

  total=subtotal+(ok?delivery:0);
  document.getElementById("total").innerText=total;

  ["mp","tr","wa"].forEach(id=>{
    document.getElementById(id).disabled=!(total>0 && ok);
  });
}

function pagarMP(){
  window.open("https://link.mercadopago.cl/torresice","_blank");
}

function sendWA(){
  let msg="üç∫ Pedido GIOS üç∫\n";
  document.querySelectorAll(".card").forEach(c=>{
    let q=c.querySelector("span").innerText;
    if(q>0) msg+=`${c.querySelector("h3").innerText} x${q}\n`;
  });
  msg+=`Total: $${total}`;
  window.open("https://wa.me/56927731874?text="+encodeURIComponent(msg));
}

function openTransfer(){alert("Datos de transferencia");}
</script>

</body>
</html>
