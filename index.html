<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GIOS</title>

<style>

/* ========== RESET ========== */
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:system-ui, sans-serif;
}

/* ========== BODY ========== */
body{
  background:#eaeaea;
  overflow-x:hidden;
}

html, body{
  height:auto;
  overflow-y:auto;
}

/* ========== APP ========== */
.app, #app{
  max-width:420px;
  margin:0 auto;
  background:#fff;
  min-height:auto;      /* üîë deja crecer seg√∫n contenido */
  padding-bottom:80px;  /* espacio para la barra subtotal */
}

/* Caja */
.modal-box{
  width:90%;
  max-width:380px;
  background:#fff;
  border-radius:18px;
  padding:20px;
  animation:modalIn .25s ease;
}

/* Inputs */
.modal-box input,
.modal-box select{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:14px;
}

/* Botones */
.modal-actions{
  display:flex;
  gap:12px;
  margin-top:18px;
}

.modal-actions button{
  flex:1;                 /* üî• mismo ancho */
  height:52px;           /* tama√±o t√°ctil ideal */
  border-radius:14px;    /* look moderno */
  font-weight:600;
  font-size:16px;
}

.modal-actions button:first-child{
  background:#eee;
}

.modal-actions button:last-child{
  background:#111;
  color:#fff;
}

@keyframes modalIn{
  from{
    transform:translateY(40px);
    opacity:0;
  }
}

@media (max-width:480px){

  .modal-actions{
    flex-direction:column;
    gap:10px;
  }

  .modal-actions button{
    width:100%;
    height:52px;
  }

}

.modal-actions{
  position:sticky;
  bottom:0;
  background:#fff;
  padding-top:10px;
}

  .header img,
  .header .sub{
    pointer-events:auto;
  }

  .header img{
    width:auto;
    max-width:110px;
    max-height:70px;
    height:auto;
    display:block;
    margin:0 auto 6px;
  }
  
  .header{
    position:sticky;
    top:0;
    z-index:20;

    background-image:url("FondoHeader-Beers.jpg");
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;

    padding:12px 10px;
    text-align:center;
    max-width:420px;
    margin:0 auto;

    color:#fff;
    pointer-events:none;
  }

  .header .sub{
    font-size:11px;
    line-height:1.35;
    opacity:.9;
  }

}   /* üëà ESTA LLAVE FALTABA */

/* ========== ER ========== */
.er{
  padding:14px;
  text-align:center;
  background:#111;
  color:#fff;
  position:sticky;
  top:0;
}

.products{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:14px;
  margin-top:14px;
}

/* ===== CARD ===== */
.card{
  background:#fff;
  border:1px solid #c4c4c4;        /* marco gris suave */
  border-radius:16px;
  padding:8px 8px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  position:relative;
  z-index:6;

min-height:220px;                 /* Antes 260px muy Alta */
  
  transition:transform .15s ease, box-shadow .15s ease;
}

.container{
  padding:12px;
  padding-top:4px;
  padding-bottom:110px;

  position:relative;
  z-index:5;
}

/* espacio interno */
.card .info{
  margin-top:10px;
}

/* nombre */
.card h4{
  font-family:Arial, sans-serif;
  font-size:16px;
  font-weight:bold;
  margin:6px 0 2px;
}

/* precio */
.card .precio{
  font-family:Arial, sans-serif;
  font-size:18px;
  font-weight:bold;
  margin-bottom:8px;
}

/* animaci√≥n SOLO al tocar */
.card:active{
  transform:translateY(-4px);
  box-shadow:0 14px 26px rgba(0,0,0,.18);
}

/* contenedor imagen */
.card-img{
  display:flex;
  align-items:center;
  justify-content:center;
  height:110px;
  margin-bottom:8px;
}

/* imagen */
.card-img img{
  max-width:140px;
  max-height:100%;
  width:auto;
  height:auto;
  object-fit:contain;
  display:block;
}

/* info */
.card-info{
  text-align:center;
}

.card-name{
  text-align:center;
  font-weight:bold;
  font-size:16px;
  margin-top:6px;
}

.card-price{
  text-align:center;
  font-weight:bold;
  font-size:18px;
  margin-top:2px;
}

/* cantidad */
.card-qty{
  margin-top:10px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:12px;
}

.card-qty button{
  width:28px;
  height:28px;
  border:none;
  background:#e0e0e0;
  color:#000;
  font-size:18px;
  font-weight:bold;
  border-radius:6px;
}

.card-qty span{
  font-size:16px;
  font-weight:bold;
  min-width:18px;
  text-align:center;
}

/* ========== OVERLAY ========== */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

.overlay.active{
  display:flex;
}

.modal{
  background:#fff;
  width:90%;
  max-width:420px;
  border-radius:18px;
  padding:20px;

  max-height:85vh;
  overflow-y:auto;

  position:relative;
  z-index:9999;
}

  /* üî• CLAVE */
  max-height:85vh;
  overflow-y:auto;

  animation:fadeIn .25s ease;
}

.action-bar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;

  max-width:420px;
  margin:0 auto;

  display:flex;
  gap:6px;
  padding:10px;

  background:#111;
  z-index:8000;
}

.action-bar .btn{
  flex:1;
  padding:10px 0;
  border:none;
  border-radius:10px;
  font-size:12px;
  font-weight:600;
  color:#fff;
}

.subtotal-bar{
  position:fixed;
  bottom:0;
  left:50%;
  transform:translateX(-50%);

  width:100%;
  max-width:420px;

  padding:14px;

  background-image:url("FondoHeader-Beers.jpg");
  background-size:cover;
  background-position:center;

  color:#fff;

  z-index:9000;   /* üî• CLAVE */
}

.subtotal-bar::before{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.55);
}

.subtotal-bar *{
  position:relative;
}

.btn-action{
  height:45px;
  width:100%;

  background:#e6e6e6;
  border:1.5px solid #6f6f6f;
  border-radius:18px;

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;

  font-size:12px;
  font-weight:400;
  color:#000;

  transition:all .25s ease;
}

.btn-action:active{
  transform:scale(0.95);
}

.btn-action:active{
  background:#d6d6d6;
  transform:scale(0.96);
}

.actions{
  position:fixed;
  bottom:60px;                 /* üëà justo sobre subtotal */
  left:50%;
  transform:translateX(-50%);
  max-width:420px;
  width:100%;

  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:8px;
  padding:8px 10px;

  z-index:20;
}

.ws-float{
  position:fixed;
  bottom:85px;          /* üëà arriba del subtotal */
  right:14px;

  width:60px;
  height:60px;
  border-radius:50%;

  background:#25D366;
  color:#fff;
  font-size:30px;

  display:flex;
  align-items:center;
  justify-content:center;

  box-shadow:0 10px 24px rgba(0,0,0,.35);
  z-index:8500;

  transition:transform .2s ease, box-shadow .2s ease;
}

.ws-float:active{
  transform:scale(.92);
  box-shadow:0 6px 14px rgba(0,0,0,.25);
}

.modal-order{
  max-width:340px;
}

.modal-order h3{
  margin-bottom:12px;
}

.order-list{
  max-height:220px;
  overflow-y:auto;
  margin-bottom:10px;
  text-align:left;
}

.order-item{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  padding:6px 0;
  border-bottom:1px dashed #ddd;
}

.order-total{
  margin:12px 0;
  font-size:18px;
  text-align:right;
}

.modal-actions{
  display:flex;
  gap:10px;
  justify-content:space-between;
}

.btn-outline{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:1px solid #777;
  background:#eee;
  font-size:14px;
}

.btn-primary{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:none;
  background:#000;
  color:#fff;
  font-size:14px;
}

.btn-primary{
  box-shadow:0 6px 18px rgba(0,0,0,.25);
}

.whatsapp-float{
  animation:wsAppear .4s ease;
}

@keyframes wsAppear{
  from{
    transform:scale(.6);
    opacity:0;
  }
  to{
    transform:scale(1);
    opacity:1;
  }
}

</style>
</head>

<body>

<div class="app">

<header class="header">
  <img src="logogios.png" class="logo">
  <div class="sub">
    üç∫ Venta de Cervezas ¬∑ Copiap√≥ üç∫<br>
    ‚è∞ 09:00‚Äì15:00 / 17:00‚Äì22:00  -  üöö Delivery Disponible üöö<br>
    </div>

</header>

<main class="container">
  <div class="products">
  
    <div class="card" data-price="1000">
      <div class="card-img">
        <img src="escudo-silver.png">
      </div>
      <div class="card-name">Escudo Silver</div>
      <div class="card-price">$1.000</div>
      <div class="card-qty">
        <button class="minus">-</button>
        <span class="qty">0</span>
        <button class="plus">+</button>
      </div>
    </div>

    <div class="card" data-price="950">
      <div class="card-img">
        <img src="escudo-roja470.avif">
      </div>
      <div class="card-name">Escudo Roja</div>
      <div class="card-price">$950</div>
      <div class="card-qty">
        <button class="minus">-</button>
        <span class="qty">0</span>
        <button class="plus">+</button>
      </div>
    </div>

    <div class="card" data-price="950">
      <div class="card-img">
        <img src="escudo-roja470.avif">
      </div>
      <div class="card-name">Escudo Roja</div>
      <div class="card-price">$950</div>
      <div class="card-qty">
        <button class="minus">-</button>
        <span class="qty">0</span>
        <button class="plus">+</button>
      </div>
    </div>

    <div class="card" data-price="950">
      <div class="card-img">
        <img src="escudo-roja470.avif">
      </div>
      <div class="card-name">Escudo Roja</div>
      <div class="card-price">$950</div>
      <div class="card-qty">
        <button class="minus">-</button>
        <span class="qty">0</span>
        <button class="plus">+</button>
      </div>
    </div>
  
  </div>


</main>

  <div class="action-bar">
  <button class="btn-action" onclick="abrirMP()">
üí≥<span>Mercado Pago</span>
</button>

  <button class="btn-action" onclick="abrirTransferencia()">
üè¶<span>Transferir</span>
</button>

<button class="btn-action" onclick="abrirResumenPedido()">
üßæ<span>Enviar</span>
</button>
  
 <a href="https://wa.me/+56927731874" class="btn-action">
    üì±<span>WhatsApp</span>
  </a>

 <a href="tel:+56927731874" class="btn-action">
    üìû<span>Llamar</span>
  </a>
</div>

<div class="subtotal-bar">
  Subtotal: <strong id="subtotalValue">$0</strong>
</div>

</div>

<!-- MODALES -->
<div id="transferModal" class="overlay">
  <div class="modal">
    <p><strong>üè¶ Transferencia</strong></p>
    <p>Coopeuch ¬∑ Cuenta Vista</p>
    <button onclick="cerrar()">Cerrar</button>
  </div>
</div>

<div id="mpAlert" class="overlay">
  <div class="modal">
    <p>üí≥ Mercado Pago</p>
    <p>Pr√≥ximamente</p>
    <button onclick="cerrar()">Cerrar</button>
  </div>
</div>

<script>

function abrirCliente(){
  document.getElementById("modalCliente").classList.add("active")
; }  

function cerrarCliente(){
  document.getElementById("modalCliente").style.display="none"; }

document.getElementById("orderModal").classList.add("active");

function abrirTransferencia(){
  cerrar();
  document.getElementById("transferModal").classList.add("active")
;
}

function abrirMP(){
  cerrar();
  document.getElementById("mpAlert").classList.add("active")
;
}
</script>

<script>
let subtotal = 0;

function updateSubtotal(){
  document.getElementById("subtotalValue").innerText =
    "$" + subtotal.toLocaleString("es-CL");
}

document.querySelectorAll(".card").forEach(card => {

  const price = parseInt(card.dataset.price);
  const qtyEl = card.querySelector(".qty");

  card.querySelector(".plus").addEventListener("click", () => {

    let qty = parseInt(qtyEl.innerText);
    qty++;

    qtyEl.innerText = qty;
    subtotal += price;

    updateSubtotal();
  });

  card.querySelector(".minus").addEventListener("click", () => {

    let qty = parseInt(qtyEl.innerText);

    if(qty > 0){
      qty--;
      qtyEl.innerText = qty;
      subtotal -= price;

      updateSubtotal();
    }
  });

});
</script>

<script>

function abrirResumenPedido(){

  if(subtotal === 0){
    alert("Agrega productos al pedido üôÇ");
    return;
  }

  const orderList = document.getElementById("orderList");
  orderList.innerHTML = "";

  let total = 0;

  document.querySelectorAll(".card").forEach(card=>{
    const qty = parseInt(card.querySelector(".qty").innerText);

    if(qty > 0){
      const name = card.querySelector(".card-name").innerText;
      const price = parseInt(card.dataset.price);
      const lineTotal = qty * price;
      total += lineTotal;

      orderList.innerHTML += `
        <div class="order-item">
          <span>${name} x${qty}</span>
          <span>$${lineTotal.toLocaleString("es-CL")}</span>
        </div>
      `;
    }
  });

  document.getElementById("orderTotal").innerText =
    "$" + total.toLocaleString("es-CL");

  document.getElementById("orderModal").classList.add("active");

function abrirFormulario(){
  cerrar(); // cierra overlays si hay
  document.getElementById("modalCliente").classList.add("active");
}

</script>

<a href="https://wa.me/+56927731874"
   class="ws-float"
   target="_blank">
  <img src="whatsapp-icon.png" alt=" ">
</a>

<!-- MODAL RESUMEN PEDIDO -->
<div id="orderModal" class="overlay">
  <div class="modal modal-order">
    <h3>üßæ Resumen de tu pedido</h3>

    <div id="orderList" class="order-list">
      <!-- productos din√°micos -->
    </div>

    <div class="order-total">
      Total: <strong id="orderTotal">$0</strong>
    </div>

    <div class="modal-actions">
      <button class="btn-outline" onclick="cerrar()">Cancelar</button>
      <button class="btn-primary" onclick="abrirFormulario()">Continuar</button>   
    </div>
  </div>
</div>

<!-- MODAL CLIENTE -->
<div id="modalCliente" class="overlay">
  <div class="modal modal-box">

    <h2>Datos de entrega</h2>

    <input id="clienteNombre" placeholder="Nombre" required>
    <input id="clienteDireccion" placeholder="Direcci√≥n" required>
    <input id="clienteReferencia" placeholder="Referencia (casa azul, port√≥n, etc.)">

    <select id="clientePago">
      <option value="">M√©todo de pago</option>
      <option>Transferencia</option>
      <option>Mercado Pago</option>
      <option>Efectivo</option>
    </select>

    <div class="modal-actions">
      <button onclick="cerrarCliente()">Cancelar</button>
      <button onclick="enviarPedido()">Enviar pedido</button>
    </div>

  </div>
</div>

</body>
</html>
