<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Venta de Cervezas - GIOS</title>

<style>

#total{
      display:inline-block;
      transition: transform .2s ease;
    }
    #total.bump{
      transform: scale(1.25);
    }

#zoneInfo{
  display:block;
  margin-top:6px;
  font-size:13px;
  font-weight:600;   /* m√°s suave que bold */
  color:#333;
  text-align:center;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:url("fondo-app.jpg") no-repeat center center;
  background-size:cover;
  min-height:100vh;
}

.app{
  max-width:420px;
  margin:auto;
  background:rgba(255,255,255,0.9);
  min-height:100vh;
  padding-bottom:150px;
}

/* HEADER */
.app-header{
  position:sticky;
  top:0;
  background:#fff;
  text-align:center;
  padding:10px;
  z-index:10;
}

.logo{max-width:120px;}
.subtitulo{font-size:14px;font-weight:bold;}
.info{font-size:12px;}

/* PRODUCTS */
.products{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  padding:10px;
}

.card{
  background:#fff;
  border-radius:14px;
  padding:6px;
  text-align:center;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  transition:transform .18s ease, box-shadow .18s ease;
}

.beer-box{
  border:1px solid #ccc;
  border-radius:10px;
  padding:6px;
}

.beer-img{
  width:68px;
  height:90px;
  object-fit:contain;
}

.qty{
  display:flex;
  justify-content:center;
  gap:10px;
}

.qty button{
  width:24px;
  height:24px;
  font-size:16px;
  font-weight:bold;
}

.beer-info h3{
  font-size:14px;
  margin:4px 0 2px;
}

.price{font-weight:bold;}

/* FOOTER */
.footer{
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: 420px;
  background: #fff;
  padding: 10px;
  box-shadow: 0 -4px 10px rgba(0,0,0,.2);
}

/* DELIVERY */
.delivery-title{
  background:#007BFF;
  color:#fff;
  font-weight:bold;
  text-align:center;
  padding:8px;
  border-radius:8px;
  margin-bottom:6px;
}

.delivery-zone select{
  width:100%;
  padding:6px;
  border-radius:8px;
  margin-bottom:6px;
}

/* TOTAL */
.total{
  text-align:center;
  font-size:18px;
  font-weight:bold;
  margin:6px 0;
  transition:transform .2s ease;
}

.total.bump{
  transform:scale(1.15);
}

/* ACTIONS */
.actions{
  display:flex;
  gap:6px;
}

.actions button{
  flex:1;
  padding:8px;
  border:none;
  border-radius:6px;
  font-size:11px;
}

.actions button:disabled{opacity:.5}

.qty button{
  transition: transform .1s ease;
}

.qty button:active{
  transform: translateY(2px);
}

.card{
  transition: transform .12s ease, box-shadow .12s ease;
}

.card:active{
  transform: translateY(4px);
  box-shadow: 0 4px 8px rgba(0,0,0,.18);
}

/* ===== INFO DELIVERY ===== */
#zoneInfo{
  display:block;
  font-size:13px;
  margin-top:6px;          /* m√°s aire */
  font-weight:600;         /* semi-bold */
  color:#333;
  text-align:center;
}

</style>
</head>

<div id="transferModal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  z-index:50;
  align-items:center;
  justify-content:center;
">

  <div style="
    background:#f2f2f2;
    border:2px solid #555;
    border-radius:14px;
    padding:18px;
    width:90%;
    max-width:320px;
    text-align:left;
  ">

    <div style="font-weight:bold;color:#000;margin-bottom:10px;">
              üè¶ Datos para Transferencia üè¶
    </div>

    <div style="color:#000;font-weight:bold;line-height:1.6;">
      Banco    : Coopeuch<br>
      Cuenta   : Vista<br>
      N¬∫ Cuenta: 251105735<br>
      Nombre   : Oscar Torres<br>
      Email    : hielo.torres.ice@gmail.com
    </div>

    <div style="text-align:center;margin-top:14px;">
      <button onclick="closeTransfer()" style="
        background:#007BFF;
        color:#fff;
        font-weight:bold;
        border:1px solid #000;
        padding:8px 22px;
        border-radius:8px;
      ">
        Cerrar
      </button>
    </div>

  </div>
</div>

<body>

<div class="app">

<header class="app-header">
  <img src="logogios.png" class="logo">
  <div class="subtitulo">üç∫ Venta de Cervezas - Copiap√≥ üç∫</div>
  <div class="info">‚è∞ 09:00‚Äì15:00 / 17:00‚Äì22:00 üöö Delivery</div>
</header>

<div class="products">

<div class="card" data-price="1000">
  <div class="beer-box">
    <img src="escudo-silver.png" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Escudo Silver</h3>
    <div class="price">$1.000</div>
  </div>
</div>

<div class="card" data-price="950">
  <div class="beer-box">
    <img src="escudo-roja470.avif" class="beer-img">
    <div class="qty">
      <button onclick="add(this,-1)">‚àí</button>
      <span>0</span>
      <button onclick="add(this,1)">+</button>
    </div>
  </div>
  <div class="beer-info">
    <h3>Escudo Roja</h3>
    <div class="price">$950</div>
  </div>
</div>

<div class="card" data-price="900">
 <div class="beer-box">
  <img src="cristal-473.png" class="beer-img">
  <div class="qty">
   <button onclick="add(this,-1)">‚àí</button>
   <span>0</span>
   <button onclick="add(this,1)">+</button>
  </div>
</div>
<div class="beer-info">
 <h3>Cristal</h3>
 <small>473cc</small>
 <div class="price">$900</div>
 </div>
</div>

<div class="card" data-price="1000">
 <div class="beer-box">
  <img src="sol-330.png" class="beer-img">
  <div class="qty">
   <button onclick="add(this,-1)">‚àí</button>
   <span>0</span>
   <button onclick="add(this,1)">+</button>
 </div>
</div> 
<div class="beer-info">
 <h3>Sol</h3>
 <small>330cc</small>
 <div class="price">$1.000</div>
 </div>
</div>

</div>
</div>

<div class="footer">

  <div class="delivery-zone">

    <div class="delivery-title">
      üöö Selecciona Zona para Delivery üöö
    </div>

    <select id="zone" onchange="calc()">
      <option value="">Selecciona zona</option>
      <option value="centro">Copiap√≥ Centro</option>
      <option value="paipote">Paipote</option>
      <option value="tierra">Tierra Amarilla</option>
    </select>

    <small id="zoneInfo"></small>

  </div>

  <div class="total">
    Total: <span class="currency">$</span><span id="total">0</span>
  </div>

  <div class="actions">
    <button id="mp" onclick="pagarMP()" disabled>üí≥ Mercado Pago</button>
    <button id="tr" onclick="openTransfer()" disabled>üè¶ Transferir</button>
    <button id="wa" onclick="sendWA()" disabled>üì≤ WhatsApp</button>
    <button id="call" onclick="location.href='tel:+56927731874'">üìû Llamar</button>
  </div>

</div>

<script>
const zonas={
  centro:{costo:1000,minimo:5000},
  paipote:{costo:2000,minimo:8000},
  tierra:{costo:3000,minimo:10000}
};

let total=0;

function add(btn,val){
  const card=btn.closest(".card");
  const span=btn.parentNode.querySelector("span");
  span.innerText=Math.max(0,parseInt(span.innerText)+val);

  card.classList.remove("bump");
  void card.offsetWidth;
  card.classList.add("bump");

  calc();
}

function calc(){
  let subtotal=0;

  document.querySelectorAll(".card").forEach(c=>{
    subtotal+=c.dataset.price*parseInt(c.querySelector("span").innerText);
  });

  let zone=document.getElementById("zone").value;
  let delivery=0;
  let ok=subtotal>0;

  if(zone){
    delivery=zonas[zone].costo;
    document.getElementById("zoneInfo").innerText=
      `Delivery $${delivery} | M√≠n $${zonas[zone].minimo}`;
    if(subtotal<zonas[zone].minimo) ok=false;
  }else{
    ok=false;
    document.getElementById("zoneInfo").innerText="";
  }

  total=subtotal+(ok?delivery:0);
  const totalSpan = document.getElementById("total");
totalSpan.innerText = total;

totalSpan.classList.remove("bump");
void totalSpan.offsetWidth;
totalSpan.classList.add("bump");

  const t=document.querySelector(".total");
  t.classList.remove("bump");
  void t.offsetWidth;
  t.classList.add("bump");

  ["mp","tr","wa"].forEach(id=>{
    document.getElementById(id).disabled=!(total>0 && ok);
  });
}

function pagarMP(){
  window.open("https://link.mercadopago.cl/torresice","_blank");
}

function sendWA(){
  let msg="üç∫ Pedido GIOS üç∫\n";
  document.querySelectorAll(".card").forEach(c=>{
    let q=c.querySelector("span").innerText;
    if(q>0) msg+=`${c.querySelector("h3").innerText} x${q}\n`;
  });
  msg+=`Total: $${total}`;
  window.open("https://wa.me/56927731874?text="+encodeURIComponent(msg));
}

function openTransfer(){
  document.getElementById("transferModal").style.display="flex";
}

function closeTransfer(){
  document.getElementById("transferModal").style.display="none";
}

</script>

</body>

</html>
